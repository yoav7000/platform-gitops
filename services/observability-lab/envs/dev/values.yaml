
replicaCount: 3
image:
  repository: yoav7001/observability-lab
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "cb8d137bff7b53827d059d01dfcaa7b51be708f6"
# Existing image pull secrets names.
imagePullSecrets: [{"name": "yoav-image-pull-secret"}]
env:
  ENVIRONMENT: "observability lab dev"

service:
  type: ClusterIP
  port: 80
  targetPort: 8080

keda:
  enabled: true
  triggers:
    - type: prometheus
      metadata:
        serverAddress: http://prometheus-operated.monitoring.svc.cluster.local:9090
        metricName: http_requests_total
        threshold: '10'
        query: sum(rate(http_requests_total{service="observability-lab-dev-one-chart"}[2m]))

serviceMonitor:
  enabled: true

ingress:
  enabled: true
  hosts:
    - host: observability-lab.dev.com
      paths:
        - path: /
          pathType: ImplementationSpecific
